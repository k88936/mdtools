import{o as Un}from"./chunk-DfAF0w94-qwHW_6P2.js";const Ln=globalThis;var Fn=Un(((Vn,It)=>{(function(){var U=this;function hn(t){var n=typeof t;if(n=="object")if(t){if(t instanceof Array)return"array";if(t instanceof Object)return n;var r=Object.prototype.toString.call(t);if(r=="[object Window]")return"object";if(r=="[object Array]"||typeof t.length=="number"&&t.splice!==void 0&&t.propertyIsEnumerable!==void 0&&!t.propertyIsEnumerable("splice"))return"array";if(r=="[object Function]"||t.call!==void 0&&t.propertyIsEnumerable!==void 0&&!t.propertyIsEnumerable("call"))return"function"}else return"null";else if(n=="function"&&t.call===void 0)return"object";return n}function O(t){return typeof t=="string"}function pn(t,n,r){return t.call.apply(t.bind,arguments)}function gn(t,n,r){if(!t)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,e),t.apply(n,o)}}return function(){return t.apply(n,arguments)}}function Q(t,n,r){return Q=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pn:gn,Q.apply(null,arguments)}function dn(t,n){var r=Array.prototype.slice.call(arguments,1);return function(){var e=r.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function R(t){var n=T;function r(){}r.prototype=n.prototype,t.G=n.prototype,t.prototype=new r,t.prototype.constructor=t,t.F=function(e,o,i){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return n.prototype[o].apply(e,a)}}var kt=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function b(t,n){return t.indexOf(n)!=-1}function gt(t,n){return t<n?-1:t>n?1:0}var vn=Array.prototype.indexOf?function(t,n,r){return Array.prototype.indexOf.call(t,n,r)}:function(t,n,r){if(r=r==null?0:0>r?Math.max(0,t.length+r):r,O(t))return O(n)&&n.length==1?t.indexOf(n,r):-1;for(;r<t.length;r++)if(r in t&&t[r]===n)return r;return-1},I=Array.prototype.forEach?function(t,n,r){Array.prototype.forEach.call(t,n,r)}:function(t,n,r){for(var e=t.length,o=O(t)?t.split(""):t,i=0;i<e;i++)i in o&&n.call(r,o[i],i,t)},Ct=Array.prototype.filter?function(t,n,r){return Array.prototype.filter.call(t,n,r)}:function(t,n,r){for(var e=t.length,o=[],i=0,a=O(t)?t.split(""):t,u=0;u<e;u++)if(u in a){var f=a[u];n.call(r,f,u,t)&&(o[i++]=f)}return o},L=Array.prototype.reduce?function(t,n,r,e){return e&&(n=Q(n,e)),Array.prototype.reduce.call(t,n,r)}:function(t,n,r,e){var o=r;return I(t,function(i,a){o=n.call(e,o,i,a,t)}),o},Z=Array.prototype.some?function(t,n,r){return Array.prototype.some.call(t,n,r)}:function(t,n,r){for(var e=t.length,o=O(t)?t.split(""):t,i=0;i<e;i++)if(i in o&&n.call(r,o[i],i,t))return!0;return!1};function yn(t,n){var r;t:{r=t.length;for(var e=O(t)?t.split(""):t,o=0;o<r;o++)if(o in e&&n.call(void 0,e[o],o,t)){r=o;break t}r=-1}return 0>r?null:O(t)?t.charAt(r):t[r]}function wn(t){return Array.prototype.concat.apply(Array.prototype,arguments)}function mn(t,n,r){return 2>=arguments.length?Array.prototype.slice.call(t,n):Array.prototype.slice.call(t,n,r)}var w;t:{var jt=U.navigator;if(jt){var Bt=jt.userAgent;if(Bt){w=Bt;break t}}w=""}var bn=b(w,"Opera")||b(w,"OPR"),_=b(w,"Trident")||b(w,"MSIE"),En=b(w,"Edge"),dt=b(w,"Gecko")&&!(b(w.toLowerCase(),"webkit")&&!b(w,"Edge"))&&!(b(w,"Trident")||b(w,"MSIE"))&&!b(w,"Edge"),Nn=b(w.toLowerCase(),"webkit")&&!b(w,"Edge");function Mt(){var t=U.document;return t?t.documentMode:void 0}var $;t:{var vt="",yt=(function(){var t=w;if(dt)return/rv\:([^\);]+)(\)|;)/.exec(t);if(En)return/Edge\/([\d\.]+)/.exec(t);if(_)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Nn)return/WebKit\/(\S+)/.exec(t);if(bn)return/(?:Version)[ \/]?(\S+)/.exec(t)})();if(yt&&(vt=yt?yt[1]:""),_){var wt=Mt();if(wt!=null&&wt>parseFloat(vt)){$=String(wt);break t}}$=vt}var Yt={};function Ut(t){if(!Yt[t]){for(var n=0,r=kt(String($)).split("."),e=kt(String(t)).split("."),o=Math.max(r.length,e.length),i=0;n==0&&i<o;i++){var a=r[i]||"",u=e[i]||"",f=/(\d*)(\D*)/g,A=/(\d*)(\D*)/g;do{var m=f.exec(a)||["","",""],J=A.exec(u)||["","",""];if(m[0].length==0&&J[0].length==0)break;n=gt(m[1].length==0?0:parseInt(m[1],10),J[1].length==0?0:parseInt(J[1],10))||gt(m[2].length==0,J[2].length==0)||gt(m[2],J[2])}while(n==0)}Yt[t]=0<=n}}var Lt=U.document,tt=Lt&&_?Mt()||(Lt.compatMode=="CSS1Compat"?parseInt($,10):5):void 0,k=_&&!(9<=Number(tt)),Ft=_&&!(8<=Number(tt));function F(t,n,r,e){this.a=t,this.nodeName=r,this.nodeValue=e,this.nodeType=2,this.parentNode=this.ownerElement=n}function Vt(t,n){var r=Ft&&n.nodeName=="href"?t.getAttribute(n.nodeName,2):n.nodeValue;return new F(n,t,n.nodeName,r)}function D(t){var n=null,r=t.nodeType;if(r==1&&(n=t.textContent,n=n==null||n==null?t.innerText:n,n=n==null||n==null?"":n),typeof n!="string")if(k&&t.nodeName.toLowerCase()=="title"&&r==1)n=t.text;else if(r==9||r==1){t=r==9?t.documentElement:t.firstChild;for(var r=0,e=[],n="";t;){do t.nodeType!=1&&(n+=t.nodeValue),k&&t.nodeName.toLowerCase()=="title"&&(n+=t.text),e[r++]=t;while(t=t.firstChild);for(;r&&!(t=e[--r].nextSibling););}}else n=t.nodeValue;return""+n}function C(t,n,r){if(n===null)return!0;try{if(!t.getAttribute)return!1}catch{return!1}return Ft&&n=="class"&&(n="className"),r==null?!!t.getAttribute(n):t.getAttribute(n,2)==r}function G(t,n,r,e,o){return(k?xn:Tn).call(null,t,n,O(r)?r:null,O(e)?e:null,o||new s)}function xn(t,n,r,e,o){if(t instanceof Y||t.b==8||r&&t.b===null){var i=n.all;if(!i||(t=Xt(t),t!="*"&&(i=n.getElementsByTagName(t),!i)))return o;if(r){for(var a=[],u=0;n=i[u++];)C(n,r,e)&&a.push(n);i=a}for(u=0;n=i[u++];)t=="*"&&n.tagName=="!"||h(o,n);return o}return mt(t,n,r,e,o),o}function Tn(t,n,r,e,o){return n.getElementsByName&&e&&r=="name"&&!_?(n=n.getElementsByName(e),I(n,function(i){t.a(i)&&h(o,i)})):n.getElementsByClassName&&e&&r=="class"?(n=n.getElementsByClassName(e),I(n,function(i){i.className==e&&t.a(i)&&h(o,i)})):t instanceof P?mt(t,n,r,e,o):n.getElementsByTagName&&(n=n.getElementsByTagName(t.f()),I(n,function(i){C(i,r,e)&&h(o,i)})),o}function Sn(t,n,r,e,o){var i;if((t instanceof Y||t.b==8||r&&t.b===null)&&(i=n.childNodes)){var a=Xt(t);return a!="*"&&(i=Ct(i,function(u){return u.tagName&&u.tagName.toLowerCase()==a}),!i)||(r&&(i=Ct(i,function(u){return C(u,r,e)})),I(i,function(u){a=="*"&&(u.tagName=="!"||a=="*"&&u.nodeType!=1)||h(o,u)})),o}return Ht(t,n,r,e,o)}function Ht(t,n,r,e,o){for(n=n.firstChild;n;n=n.nextSibling)C(n,r,e)&&t.a(n)&&h(o,n);return o}function mt(t,n,r,e,o){for(n=n.firstChild;n;n=n.nextSibling)C(n,r,e)&&t.a(n)&&h(o,n),mt(t,n,r,e,o)}function Xt(t){if(t instanceof P){if(t.b==8)return"!";if(t.b===null)return"*"}return t.f()}!dt&&!_||_&&9<=Number(tt)||dt&&Ut("1.9.1"),_&&Ut("9");function Gt(t,n){if(!t||!n)return!1;if(t.contains&&n.nodeType==1)return t==n||t.contains(n);if(t.compareDocumentPosition!==void 0)return t==n||!!(t.compareDocumentPosition(n)&16);for(;n&&t!=n;)n=n.parentNode;return n==t}function Kt(t,n){if(t==n)return 0;if(t.compareDocumentPosition)return t.compareDocumentPosition(n)&2?1:-1;if(_&&!(9<=Number(tt))){if(t.nodeType==9)return-1;if(n.nodeType==9)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var r=t.nodeType==1,e=n.nodeType==1;if(r&&e)return t.sourceIndex-n.sourceIndex;var o=t.parentNode,i=n.parentNode;return o==i?zt(t,n):!r&&Gt(o,n)?-1*Wt(t,n):!e&&Gt(i,t)?Wt(n,t):(r?t.sourceIndex:o.sourceIndex)-(e?n.sourceIndex:i.sourceIndex)}return e=t.nodeType==9?t:t.ownerDocument||t.document,r=e.createRange(),r.selectNode(t),r.collapse(!0),e=e.createRange(),e.selectNode(n),e.collapse(!0),r.compareBoundaryPoints(U.Range.START_TO_END,e)}function Wt(t,n){var r=t.parentNode;if(r==n)return-1;for(var e=n;e.parentNode!=r;)e=e.parentNode;return zt(e,t)}function zt(t,n){for(var r=n;r=r.previousSibling;)if(r==t)return-1;return 1}function s(){this.b=this.a=null,this.l=0}function qt(t){this.node=t,this.a=this.b=null}function bt(t,n){if(!t.a)return n;if(!n.a)return t;for(var r=t.a,e=n.a,o=null,i=null,a=0;r&&e;){var i=r.node,u=e.node;i==u||i instanceof F&&u instanceof F&&i.a==u.a?(i=r,r=r.a,e=e.a):0<Kt(r.node,e.node)?(i=e,e=e.a):(i=r,r=r.a),(i.b=o)?o.a=i:t.a=i,o=i,a++}for(i=r||e;i;)i.b=o,o=o.a=i,a++,i=i.a;return t.b=o,t.l=a,t}function Et(t,n){var r=new qt(n);r.a=t.a,t.b?t.a.b=r:t.a=t.b=r,t.a=r,t.l++}function h(t,n){var r=new qt(n);r.b=t.b,t.a?t.b.a=r:t.a=t.b=r,t.b=r,t.l++}function nt(t){return(t=t.a)?t.node:null}function rt(t){return(t=nt(t))?D(t):""}function j(t,n){return new An(t,!!n)}function An(t,n){this.f=t,this.b=(this.c=n)?t.b:t.a,this.a=null}function g(t){var n=t.b;if(n==null)return null;var r=t.a=n;return t.b=t.c?n.b:n.a,r.node}function T(t){this.i=t,this.b=this.g=!1,this.f=null}function d(t){return`
  `+t.toString().split(`
`).join(`
  `)}function Jt(t,n){t.g=n}function Qt(t,n){t.b=n}function y(t,n){var r=t.a(n);return r instanceof s?+rt(r):+r}function v(t,n){var r=t.a(n);return r instanceof s?rt(r):""+r}function V(t,n){var r=t.a(n);return r instanceof s?!!r.l:!!r}function K(t,n,r){T.call(this,t.i),this.c=t,this.h=n,this.o=r,this.g=n.g||r.g,this.b=n.b||r.b,this.c==On&&(r.b||r.g||r.i==4||r.i==0||!n.f?n.b||n.g||n.i==4||n.i==0||!r.f||(this.f={name:r.f.name,s:n}):this.f={name:n.f.name,s:r})}R(K);function H(t,n,r,e,o){n=n.a(e),r=r.a(e);var i;if(n instanceof s&&r instanceof s){for(n=j(n),e=g(n);e;e=g(n))for(o=j(r),i=g(o);i;i=g(o))if(t(D(e),D(i)))return!0;return!1}if(n instanceof s||r instanceof s){n instanceof s?(o=n,e=r):(o=r,e=n),i=j(o);for(var a=typeof e,u=g(i);u;u=g(i)){switch(a){case"number":u=+D(u);break;case"boolean":u=!!D(u);break;case"string":u=D(u);break;default:throw Error("Illegal primitive type for comparison.")}if(o==n&&t(u,e)||o==r&&t(e,u))return!0}return!1}return o?typeof n=="boolean"||typeof r=="boolean"?t(!!n,!!r):typeof n=="number"||typeof r=="number"?t(+n,+r):t(n,r):t(+n,+r)}K.prototype.a=function(t){return this.c.m(this.h,this.o,t)},K.prototype.toString=function(){var t="Binary Expression: "+this.c,t=t+d(this.h);return t+=d(this.o)};function Zt(t,n,r,e){this.a=t,this.w=n,this.i=r,this.m=e}Zt.prototype.toString=function(){return this.a};var Nt={};function E(t,n,r,e){if(Nt.hasOwnProperty(t))throw Error("Binary operator already created: "+t);return t=new Zt(t,n,r,e),Nt[t.toString()]=t}E("div",6,1,function(t,n,r){return y(t,r)/y(n,r)}),E("mod",6,1,function(t,n,r){return y(t,r)%y(n,r)}),E("*",6,1,function(t,n,r){return y(t,r)*y(n,r)}),E("+",5,1,function(t,n,r){return y(t,r)+y(n,r)}),E("-",5,1,function(t,n,r){return y(t,r)-y(n,r)}),E("<",4,2,function(t,n,r){return H(function(e,o){return e<o},t,n,r)}),E(">",4,2,function(t,n,r){return H(function(e,o){return e>o},t,n,r)}),E("<=",4,2,function(t,n,r){return H(function(e,o){return e<=o},t,n,r)}),E(">=",4,2,function(t,n,r){return H(function(e,o){return e>=o},t,n,r)});var On=E("=",3,2,function(t,n,r){return H(function(e,o){return e==o},t,n,r,!0)});E("!=",3,2,function(t,n,r){return H(function(e,o){return e!=o},t,n,r,!0)}),E("and",2,2,function(t,n,r){return V(t,r)&&V(n,r)}),E("or",1,2,function(t,n,r){return V(t,r)||V(n,r)});function X(t,n,r){this.a=t,this.b=n||1,this.f=r||1}function et(t,n){if(n.a.length&&t.i!=4)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");T.call(this,t.i),this.c=t,this.h=n,this.g=t.g,this.b=t.b}R(et),et.prototype.a=function(t){return t=this.c.a(t),At(this.h,t)},et.prototype.toString=function(){var t="Filter:"+d(this.c);return t+=d(this.h)};function ot(t,n){if(n.length<t.A)throw Error("Function "+t.j+" expects at least"+t.A+" arguments, "+n.length+" given");if(t.v!==null&&n.length>t.v)throw Error("Function "+t.j+" expects at most "+t.v+" arguments, "+n.length+" given");t.B&&I(n,function(r,e){if(r.i!=4)throw Error("Argument "+e+" to function "+t.j+" is not of type Nodeset: "+r)}),T.call(this,t.i),this.h=t,this.c=n,Jt(this,t.g||Z(n,function(r){return r.g})),Qt(this,t.D&&!n.length||t.C&&!!n.length||Z(n,function(r){return r.b}))}R(ot),ot.prototype.a=function(t){return this.h.m.apply(null,wn(t,this.c))},ot.prototype.toString=function(){var n="Function: "+this.h;if(this.c.length)var t=L(this.c,function(r,e){return r+d(e)},"Arguments:"),n=n+d(t);return n};function $t(t,n,r,e,o,i,a,u,f){this.j=t,this.i=n,this.g=r,this.D=e,this.C=o,this.m=i,this.A=a,this.v=u===void 0?a:u,this.B=!!f}$t.prototype.toString=function(){return this.j};var xt={};function l(t,n,r,e,o,i,a,u){if(xt.hasOwnProperty(t))throw Error("Function already created: "+t+".");xt[t]=new $t(t,n,r,e,!1,o,i,a,u)}l("boolean",2,!1,!1,function(t,n){return V(n,t)},1),l("ceiling",1,!1,!1,function(t,n){return Math.ceil(y(n,t))},1),l("concat",3,!1,!1,function(t,n){return L(mn(arguments,1),function(r,e){return r+v(e,t)},"")},2,null),l("contains",2,!1,!1,function(t,n,r){return b(v(n,t),v(r,t))},2),l("count",1,!1,!1,function(t,n){return n.a(t).l},1,1,!0),l("false",2,!1,!1,function(){return!1},0),l("floor",1,!1,!1,function(t,n){return Math.floor(y(n,t))},1),l("id",4,!1,!1,function(t,n){function r(u){if(k){var f=e.all[u];if(f){if(f.nodeType&&u==f.id)return f;if(f.length)return yn(f,function(A){return u==A.id})}return null}return e.getElementById(u)}var o=t.a,e=o.nodeType==9?o:o.ownerDocument,o=v(n,t).split(/\s+/),i=[];I(o,function(u){u=r(u),!u||0<=vn(i,u)||i.push(u)}),i.sort(Kt);var a=new s;return I(i,function(u){h(a,u)}),a},1),l("lang",2,!1,!1,function(){return!1},1),l("last",1,!0,!1,function(t){if(arguments.length!=1)throw Error("Function last expects ()");return t.f},0),l("local-name",3,!1,!0,function(t,n){var r=n?nt(n.a(t)):t.a;return r?r.localName||r.nodeName.toLowerCase():""},0,1,!0),l("name",3,!1,!0,function(t,n){var r=n?nt(n.a(t)):t.a;return r?r.nodeName.toLowerCase():""},0,1,!0),l("namespace-uri",3,!0,!1,function(){return""},0,1,!0),l("normalize-space",3,!1,!0,function(t,n){return(n?v(n,t):D(t.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1),l("not",2,!1,!1,function(t,n){return!V(n,t)},1),l("number",1,!1,!0,function(t,n){return n?y(n,t):+D(t.a)},0,1),l("position",1,!0,!1,function(t){return t.b},0),l("round",1,!1,!1,function(t,n){return Math.round(y(n,t))},1),l("starts-with",2,!1,!1,function(t,n,r){return n=v(n,t),t=v(r,t),n.lastIndexOf(t,0)==0},2),l("string",3,!1,!0,function(t,n){return n?v(n,t):D(t.a)},0,1),l("string-length",1,!1,!0,function(t,n){return(n?v(n,t):D(t.a)).length},0,1),l("substring",3,!1,!1,function(t,n,r,e){if(r=y(r,t),isNaN(r)||r==1/0||r==-1/0||(e=e?y(e,t):1/0,isNaN(e)||e===-1/0))return"";r=Math.round(r)-1;var o=Math.max(r,0);return t=v(n,t),e==1/0?t.substring(o):t.substring(o,r+Math.round(e))},2,3),l("substring-after",3,!1,!1,function(t,n,r){return n=v(n,t),t=v(r,t),r=n.indexOf(t),r==-1?"":n.substring(r+t.length)},2),l("substring-before",3,!1,!1,function(t,n,r){return n=v(n,t),t=v(r,t),t=n.indexOf(t),t==-1?"":n.substring(0,t)},2),l("sum",1,!1,!1,function(t,n){for(var r=j(n.a(t)),e=0,o=g(r);o;o=g(r))e+=+D(o);return e},1,1,!0),l("translate",3,!1,!1,function(t,n,r,e){n=v(n,t),r=v(r,t);var o=v(e,t);for(t={},e=0;e<r.length;e++){var i=r.charAt(e);i in t||(t[i]=o.charAt(e))}for(r="",e=0;e<n.length;e++)i=n.charAt(e),r+=i in t?t[i]:i;return r},3),l("true",2,!1,!1,function(){return!0},0);function P(t,n){switch(this.h=t,this.c=n===void 0?null:n,this.b=null,t){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function Tt(t){return t=="comment"||t=="text"||t=="processing-instruction"||t=="node"}P.prototype.a=function(t){return this.b===null||this.b==t.nodeType},P.prototype.f=function(){return this.h},P.prototype.toString=function(){var t="Kind Test: "+this.h;return this.c===null||(t+=d(this.c)),t};function Rn(t){this.b=t,this.a=0}function Dn(t){t=t.match(_n);for(var n=0;n<t.length;n++)Pn.test(t[n])&&t.splice(n,1);return new Rn(t)}var _n=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Pn=/^\s/;function p(t,n){return t.b[t.a+(n||0)]}function c(t){return t.b[t.a++]}function it(t){return t.b.length<=t.a}function at(t){T.call(this,3),this.c=t.substring(1,t.length-1)}R(at),at.prototype.a=function(){return this.c},at.prototype.toString=function(){return"Literal: "+this.c};function Y(t,n){this.j=t.toLowerCase();var r=this.j=="*"?"*":"http://www.w3.org/1999/xhtml";this.c=n?n.toLowerCase():r}Y.prototype.a=function(t){var n=t.nodeType;return n!=1&&n!=2?!1:(n=t.localName===void 0?t.nodeName:t.localName,this.j!="*"&&this.j!=n.toLowerCase()?!1:this.c=="*"?!0:this.c==(t.namespaceURI?t.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml"))},Y.prototype.f=function(){return this.j},Y.prototype.toString=function(){return"Name Test: "+(this.c=="http://www.w3.org/1999/xhtml"?"":this.c+":")+this.j};function ut(t,n){if(T.call(this,t.i),this.h=t,this.c=n,this.g=t.g,this.b=t.b,this.c.length==1){var r=this.c[0];r.u||r.c!=nn||(r=r.o,r.f()!="*"&&(this.f={name:r.f(),s:null}))}}R(ut);function W(){T.call(this,4)}R(W),W.prototype.a=function(t){var n=new s;return t=t.a,t.nodeType==9?h(n,t):h(n,t.ownerDocument),n},W.prototype.toString=function(){return"Root Helper Expression"};function st(){T.call(this,4)}R(st),st.prototype.a=function(t){var n=new s;return h(n,t.a),n},st.prototype.toString=function(){return"Context Helper Expression"};function St(t){return t=="/"||t=="//"}ut.prototype.a=function(t){var n=this.h.a(t);if(!(n instanceof s))throw Error("Filter expression must evaluate to nodeset.");t=this.c;for(var r=0,e=t.length;r<e&&n.l;r++){var o=t[r],i=j(n,o.c.a),a;if(o.g||o.c!=kn)if(o.g||o.c!=jn)for(a=g(i),n=o.a(new X(a));(a=g(i))!=null;)a=o.a(new X(a)),n=bt(n,a);else a=g(i),n=o.a(new X(a));else{for(a=g(i);(n=g(i))&&(!a.contains||a.contains(n))&&n.compareDocumentPosition(a)&8;a=n);n=o.a(new X(a))}}return n},ut.prototype.toString=function(){var t="Path Expression:"+d(this.h);if(this.c.length){var n=L(this.c,function(r,e){return r+d(e)},"Steps:");t+=d(n)}return t};function ft(t){T.call(this,4),this.c=t,Jt(this,Z(this.c,function(n){return n.g})),Qt(this,Z(this.c,function(n){return n.b}))}R(ft),ft.prototype.a=function(t){var n=new s;return I(this.c,function(r){if(r=r.a(t),!(r instanceof s))throw Error("Path expression must evaluate to NodeSet.");n=bt(n,r)}),n},ft.prototype.toString=function(){return L(this.c,function(t,n){return t+d(n)},"Union Expression:")};function lt(t,n){this.a=t,this.b=!!n}function At(t,n,r){for(r||=0;r<t.a.length;r++)for(var e=t.a[r],o=j(n),i=n.l,a,u=0;a=g(o);u++){var f=t.b?i-u:u+1;if(a=e.a(new X(a,f,i)),typeof a=="number")f=f==a;else if(typeof a=="string"||typeof a=="boolean")f=!!a;else if(a instanceof s)f=0<a.l;else throw Error("Predicate.evaluate returned an unexpected type.");if(!f){f=o,a=f.f;var m=f.a;if(!m)throw Error("Next must be called at least once before remove.");var A=m.b,m=m.a;A?A.a=m:a.a=m,m?m.b=A:a.b=A,a.l--,f.a=null}}return n}lt.prototype.toString=function(){return L(this.a,function(t,n){return t+d(n)},"Predicates:")};function B(t,n,r,e){T.call(this,4),this.c=t,this.o=n,this.h=r||new lt([]),this.u=!!e,n=this.h,n=0<n.a.length?n.a[0].f:null,t.b&&n&&(t=n.name,t=k?t.toLowerCase():t,this.f={name:t,s:n.s});t:{for(t=this.h,n=0;n<t.a.length;n++)if(r=t.a[n],r.g||r.i==1||r.i==0){t=!0;break t}t=!1}this.g=t}R(B),B.prototype.a=function(t){var n=t.a,r=null,r=this.f,e=null,o=null,i=0;if(r&&(e=r.name,o=r.s?v(r.s,t):null,i=1),this.u)if(this.g||this.c!=rn)if(t=j(new B(In,new P("node")).a(t)),n=g(t))for(r=this.m(n,e,o,i);(n=g(t))!=null;)r=bt(r,this.m(n,e,o,i));else r=new s;else r=G(this.o,n,e,o),r=At(this.h,r,i);else r=this.m(t.a,e,o,i);return r},B.prototype.m=function(t,n,r,e){return t=this.c.f(this.o,t,n,r),t=At(this.h,t,e)},B.prototype.toString=function(){var t="Step:"+d("Operator: "+(this.u?"//":"/"));if(this.c.j&&(t+=d("Axis: "+this.c)),t+=d(this.o),this.h.a.length){var n=L(this.h.a,function(r,e){return r+d(e)},"Predicates:");t+=d(n)}return t};function tn(t,n,r,e){this.j=t,this.f=n,this.a=r,this.b=e}tn.prototype.toString=function(){return this.j};var Ot={};function N(t,n,r,e){if(Ot.hasOwnProperty(t))throw Error("Axis already created: "+t);return n=new tn(t,n,r,!!e),Ot[t]=n}N("ancestor",function(t,n){for(var r=new s,e=n;e=e.parentNode;)t.a(e)&&Et(r,e);return r},!0),N("ancestor-or-self",function(t,n){var r=new s,e=n;do t.a(e)&&Et(r,e);while(e=e.parentNode);return r},!0);var nn=N("attribute",function(t,n){var r=new s,e=t.f();if(e=="style"&&k&&n.style)return h(r,new F(n.style,n,"style",n.style.cssText)),r;var o=n.attributes;if(o)if(t instanceof P&&t.b===null||e=="*")for(var e=0,i;i=o[e];e++)k?i.nodeValue&&h(r,Vt(n,i)):h(r,i);else(i=o.getNamedItem(e))&&(k?i.nodeValue&&h(r,Vt(n,i)):h(r,i));return r},!1),rn=N("child",function(t,n,r,e,o){return(k?Sn:Ht).call(null,t,n,O(r)?r:null,O(e)?e:null,o||new s)},!1,!0);N("descendant",G,!1,!0);var In=N("descendant-or-self",function(t,n,r,e){var o=new s;return C(n,r,e)&&t.a(n)&&h(o,n),G(t,n,r,e,o)},!1,!0),kn=N("following",function(t,n,r,e){var o=new s;do for(var i=n;i=i.nextSibling;)C(i,r,e)&&t.a(i)&&h(o,i),o=G(t,i,r,e,o);while(n=n.parentNode);return o},!1,!0);N("following-sibling",function(t,n){for(var r=new s,e=n;e=e.nextSibling;)t.a(e)&&h(r,e);return r},!1),N("namespace",function(){return new s},!1);var Cn=N("parent",function(t,n){var r=new s;if(n.nodeType==9)return r;if(n.nodeType==2)return h(r,n.ownerElement),r;var e=n.parentNode;return t.a(e)&&h(r,e),r},!1),jn=N("preceding",function(t,n,r,e){var o=new s,i=[];do i.unshift(n);while(n=n.parentNode);for(var a=1,u=i.length;a<u;a++){var f=[];for(n=i[a];n=n.previousSibling;)f.unshift(n);for(var A=0,m=f.length;A<m;A++)n=f[A],C(n,r,e)&&t.a(n)&&h(o,n),o=G(t,n,r,e,o)}return o},!0,!0);N("preceding-sibling",function(t,n){for(var r=new s,e=n;e=e.previousSibling;)t.a(e)&&Et(r,e);return r},!0);var Bn=N("self",function(t,n){var r=new s;return t.a(n)&&h(r,n),r},!1);function ct(t){T.call(this,1),this.c=t,this.g=t.g,this.b=t.b}R(ct),ct.prototype.a=function(t){return-y(this.c,t)},ct.prototype.toString=function(){return"Unary Expression: -"+d(this.c)};function ht(t){T.call(this,1),this.c=t}R(ht),ht.prototype.a=function(){return this.c},ht.prototype.toString=function(){return"Number: "+this.c};function Mn(t,n){this.a=t,this.b=n}function pt(t){for(var n,r=[];;){x(t,"Missing right hand side of binary expression."),n=sn(t);var e=c(t.a);if(!e)break;var o=(e=Nt[e]||null)&&e.w;if(!o){t.a.a--;break}for(;r.length&&o<=r[r.length-1].w;)n=new K(r.pop(),r.pop(),n);r.push(n,e)}for(;r.length;)n=new K(r.pop(),r.pop(),n);return n}function x(t,n){if(it(t.a))throw Error(n)}function Rt(t,n){var r=c(t.a);if(r!=n)throw Error("Bad token, expected: "+n+" got: "+r)}function en(t){if(t=c(t.a),t!=")")throw Error("Bad token: "+t)}function on(t){if(t=c(t.a),2>t.length)throw Error("Unclosed literal string");return new at(t)}function an(t){var n,r=[],e;if(St(p(t.a))){if(n=c(t.a),e=p(t.a),n=="/"&&(it(t.a)||e!="."&&e!=".."&&e!="@"&&e!="*"&&!/(?![0-9])[\w]/.test(e)))return new W;e=new W,x(t,"Missing next location step."),n=Dt(t,n),r.push(n)}else{t:{switch(n=p(t.a),e=n.charAt(0),e){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":c(t.a),n=pt(t),x(t,'unclosed "("'),Rt(t,")");break;case'"':case"'":n=on(t);break;default:if(isNaN(+n))if(!Tt(n)&&/(?![0-9])[\w]/.test(e)&&p(t.a,1)=="("){for(n=c(t.a),n=xt[n]||null,c(t.a),e=[];p(t.a)!=")"&&(x(t,"Missing function argument list."),e.push(pt(t)),p(t.a)==",");)c(t.a);x(t,"Unclosed function argument list."),en(t),n=new ot(n,e)}else{n=null;break t}else n=new ht(+c(t.a))}p(t.a)=="["&&(e=new lt(un(t)),n=new et(n,e))}if(n)if(St(p(t.a)))e=n;else return n;else n=Dt(t,"/"),e=new st,r.push(n)}for(;St(p(t.a));)n=c(t.a),x(t,"Missing next location step."),n=Dt(t,n),r.push(n);return new ut(e,r)}function Dt(t,n){var r,e,o;if(n!="/"&&n!="//")throw Error('Step op should be "/" or "//"');if(p(t.a)==".")return e=new B(Bn,new P("node")),c(t.a),e;if(p(t.a)=="..")return e=new B(Cn,new P("node")),c(t.a),e;var i;if(p(t.a)=="@")i=nn,c(t.a),x(t,"Missing attribute name");else if(p(t.a,1)=="::"){if(!/(?![0-9])[\w]/.test(p(t.a).charAt(0)))throw Error("Bad token: "+c(t.a));if(r=c(t.a),i=Ot[r]||null,!i)throw Error("No axis with name: "+r);c(t.a),x(t,"Missing node name")}else i=rn;if(r=p(t.a),/(?![0-9])[\w\*]/.test(r.charAt(0)))if(p(t.a,1)=="("){if(!Tt(r))throw Error("Invalid node type: "+r);if(r=c(t.a),!Tt(r))throw Error("Invalid type name: "+r);Rt(t,"("),x(t,"Bad nodetype"),o=p(t.a).charAt(0);var a=null;(o=='"'||o=="'")&&(a=on(t)),x(t,"Bad nodetype"),en(t),r=new P(r,a)}else if(r=c(t.a),o=r.indexOf(":"),o==-1)r=new Y(r);else{var a=r.substring(0,o),u;if(a=="*")u="*";else if(u=t.b(a),!u)throw Error("Namespace prefix not declared: "+a);r=r.substr(o+1),r=new Y(r,u)}else throw Error("Bad token: "+c(t.a));return o=new lt(un(t),i.a),e||new B(i,r,o,n=="//")}function un(t){for(var n=[];p(t.a)=="[";){c(t.a),x(t,"Missing predicate expression.");var r=pt(t);n.push(r),x(t,"Unclosed predicate expression."),Rt(t,"]")}return n}function sn(t){if(p(t.a)=="-")return c(t.a),new ct(sn(t));var n=an(t);if(p(t.a)!="|")t=n;else{for(n=[n];c(t.a)=="|";)x(t,"Missing next union location path."),n.push(an(t));t.a.a--,t=new ft(n)}return t}function _t(t){switch(t.nodeType){case 1:return dn(ln,t);case 9:return _t(t.documentElement);case 11:case 10:case 6:case 12:return fn;default:return t.parentNode?_t(t.parentNode):fn}}function fn(){return null}function ln(t,n){if(t.prefix==n)return t.namespaceURI||"http://www.w3.org/1999/xhtml";var r=t.getAttributeNode("xmlns:"+n);return r&&r.specified?r.value||null:t.parentNode&&t.parentNode.nodeType!=9?ln(t.parentNode,n):null}function cn(t,n){if(!t.length)throw Error("Empty XPath expression.");var r=Dn(t);if(it(r))throw Error("Invalid XPath expression.");n?hn(n)=="function"||(n=Q(n.lookupNamespaceURI,n)):n=function(){return null};var e=pt(new Mn(r,n));if(!it(r))throw Error("Bad token: "+c(r));this.evaluate=function(o,i){var a=e.a(new X(o));return new S(a,i)}}function S(t,n){if(n==0)if(t instanceof s)n=4;else if(typeof t=="string")n=2;else if(typeof t=="number")n=1;else if(typeof t=="boolean")n=3;else throw Error("Unexpected evaluation result.");if(n!=2&&n!=1&&n!=3&&!(t instanceof s))throw Error("value could not be converted to the specified type");this.resultType=n;var r;switch(n){case 2:this.stringValue=t instanceof s?rt(t):""+t;break;case 1:this.numberValue=t instanceof s?+rt(t):+t;break;case 3:this.booleanValue=t instanceof s?0<t.l:!!t;break;case 4:case 5:case 6:case 7:var e=j(t);r=[];for(var o=g(e);o;o=g(e))r.push(o instanceof F?o.a:o);this.snapshotLength=t.l,this.invalidIteratorState=!1;break;case 8:case 9:e=nt(t),this.singleNodeValue=e instanceof F?e.a:e;break;default:throw Error("Unknown XPathResult type.")}var i=0;this.iterateNext=function(){if(n!=4&&n!=5)throw Error("iterateNext called with wrong result type");return i>=r.length?null:r[i++]},this.snapshotItem=function(a){if(n!=6&&n!=7)throw Error("snapshotItem called with wrong result type");return a>=r.length||0>a?null:r[a]}}S.ANY_TYPE=0,S.NUMBER_TYPE=1,S.STRING_TYPE=2,S.BOOLEAN_TYPE=3,S.UNORDERED_NODE_ITERATOR_TYPE=4,S.ORDERED_NODE_ITERATOR_TYPE=5,S.UNORDERED_NODE_SNAPSHOT_TYPE=6,S.ORDERED_NODE_SNAPSHOT_TYPE=7,S.ANY_UNORDERED_NODE_TYPE=8,S.FIRST_ORDERED_NODE_TYPE=9;function Yn(t){this.lookupNamespaceURI=_t(t)}function Pt(t,n){var r=t||U,e=r.Document&&r.Document.prototype||r.document;(!e.evaluate||n)&&(r.XPathResult=S,e.evaluate=function(o,i,a,u){return new cn(o,a).evaluate(i,u)},e.createExpression=function(o,i){return new cn(o,i)},e.createNSResolver=function(o){return new Yn(o)})}var z=["wgxpath","install"],M=U;z[0]in M||!M.execScript||M.execScript("var "+z[0]);for(var q;z.length&&(q=z.shift());)z.length||Pt===void 0?M=M[q]?M[q]:M[q]={}:M[q]=Pt;It.exports.install=Pt,It.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}).call(Ln)}));const Xn=Fn();export{Xn as default};
